# ููุฒุฉ ุฅูุบุงุก ุงูุทูุจุงุช ูุฅุฒุงูุฉ ุฑูู ุงูุชุชุจุน

## ๐ฏ **ุงููุตู ุงูุนุงู**

ุชู ุฅุถุงูุฉ ููุฒุฉ ุฌุฏูุฏุฉ ูุฅูุบุงุก ุงูุทูุจุงุช ูุน ุฅุฒุงูุฉ ุฑูู ุงูุชุชุจุน ุชููุงุฆูุงู ุนูุฏ ุงูุฅูุบุงุก. ูุฐู ุงูููุฒุฉ ูุชุงุญุฉ ูู ููุง ุงูุชุทุจูููู (Fruit App ู Dashboard).

## ๐ง **ุงูุชุบููุฑุงุช ุงููุทุจูุฉ**

### 1. **ูู Dashboard (fruit_app_dashbord)**

#### **OrderManagementService**
```dart
/// Cancel order and remove tracking number
Future<void> cancelOrder(String orderId, {String? notes}) async {
  // ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ุฅูู 'cancelled'
  // ุฅุฒุงูุฉ ุฑูู ุงูุชุชุจุน (trackingNumber = null)
  // ุฅุถุงูุฉ ุณุฌู ูู statusHistory
  // ุชุญุฏูุซ lastUpdated ู cancelledAt
}
```

#### **OrderListItem Widget**
- ุฅุถุงูุฉ ุฒุฑ "Cancel Order" ููุทูุจุงุช ุบูุฑ ุงูููุชููุฉ
- ุนุฑุถ ุชุฃููุฏ ูุจู ุงูุฅูุบุงุก
- ุฅุฒุงูุฉ ุฑูู ุงูุชุชุจุน ูู ุงูุนุฑุถ

### 2. **ูู Fruit App**

#### **OrderRepositoryImpl**
```dart
/// Cancel order and remove tracking number
Future<void> cancelOrder(String orderId, {String? notes}) async {
  // ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ุฅูู 'cancelled'
  // ุฅุฒุงูุฉ ุฑูู ุงูุชุชุจุน (trackingNumber = null)
  // ุฅุถุงูุฉ ุณุฌู ูู statusHistory
  // ุชุญุฏูุซ lastUpdated ู cancelledAt
}
```

#### **CancelOrderUseCase**
```dart
class CancelOrderUseCase {
  Future<void> call(String orderId, {String? notes}) async {
    await orderRepository.cancelOrder(orderId, notes: notes);
  }
}
```

#### **OrdersCubit**
```dart
Future<void> cancelOrder(String orderId, String userId, {String? notes}) async {
  await cancelOrderUseCase(orderId, notes: notes);
  // ุฅุนุงุฏุฉ ุชุญููู ุงูุทูุจุงุช
}
```

#### **OrderCancelButton Widget**
- ุฒุฑ ุฅูุบุงุก ุงูุทูุจ ูุน ุฃููููุฉ ุจุฑุชูุงููุฉ
- ุนุฑุถ ุชุฃููุฏ ูุจู ุงูุฅูุบุงุก
- ุฑุณุงูุฉ ูุฌุงุญ ุจุนุฏ ุงูุฅูุบุงุก

#### **OrderItemViewBody**
- ุฅุถุงูุฉ ุฒุฑ ุงูุฅูุบุงุก ููุทูุจุงุช ุบูุฑ ุงูููุชููุฉ
- ุนุฑุถ ุฃุฒุฑุงุฑ ุงูุญุฐู ูุงูุฅูุบุงุก ูู ุตู ูุงุญุฏ

## ๐ **ููุงุนุฏ ุงูุฅูุบุงุก**

### **ุงูุทูุจุงุช ุงูุชู ูููู ุฅูุบุงุคูุง:**
- `pending` - ูุนูู
- `confirmed` - ูุคูุฏ
- `processing` - ููุฏ ุงููุนุงูุฌุฉ
- `shipped` - ุชู ุงูุดุญู

### **ุงูุทูุจุงุช ุงูุชู ูุง ูููู ุฅูุบุงุคูุง:**
- `delivered` - ุชู ุงูุชูุตูู
- `cancelled` - ููุบู (ูุณุจูุงู)

## ๐ **ุชุฏูู ุงูุนูููุฉ**

### **ุนูุฏ ุงูุฅูุบุงุก ูู Dashboard:**
1. Admin ูุถุบุท ุนูู "Cancel Order"
2. ุนุฑุถ ุชุฃููุฏ ูุน ุชุญุฐูุฑ ุฅุฒุงูุฉ ุฑูู ุงูุชุชุจุน
3. ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ุฅูู `cancelled`
4. ุฅุฒุงูุฉ `trackingNumber` (null)
5. ุฅุถุงูุฉ ุณุฌู ูู `statusHistory`
6. ุชุญุฏูุซ `lastUpdated` ู `cancelledAt`

### **ุนูุฏ ุงูุฅูุบุงุก ูู Fruit App:**
1. Customer ูุถุบุท ุนูู ุฒุฑ ุงูุฅูุบุงุก
2. ุนุฑุถ ุชุฃููุฏ ูุน ุชุญุฐูุฑ ุฅุฒุงูุฉ ุฑูู ุงูุชุชุจุน
3. ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ ุฅูู `cancelled`
4. ุฅุฒุงูุฉ `trackingNumber` (null)
5. ุฅุถุงูุฉ ุณุฌู ูู `statusHistory`
6. ุชุญุฏูุซ `lastUpdated` ู `cancelledAt`

## ๐ฑ **ุงูุชุบููุฑุงุช ูู UI**

### **Dashboard:**
- ุฒุฑ "Cancel Order" ุจุฑุชูุงูู ุงูููู
- ูุธูุฑ ููุท ููุทูุจุงุช ุบูุฑ ุงูููุชููุฉ
- ุชุญุฐูุฑ ูู ุฅุฒุงูุฉ ุฑูู ุงูุชุชุจุน

### **Fruit App:**
- ุฒุฑ ุฅูุบุงุก ูุน ุฃููููุฉ `cancel_outlined`
- ููู ุจุฑุชูุงูู ููุชูููุฒ
- ูุธูุฑ ูุน ุฒุฑ ุงูุญุฐู ููุทูุจุงุช ุงููุนููุฉ

## ๐๏ธ **ุงูุชุบููุฑุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**

### **ุงูุญููู ุงููุญุฏุซุฉ ุนูุฏ ุงูุฅูุบุงุก:**
```json
{
  "status": "cancelled",
  "trackingNumber": null,
  "lastUpdated": "2024-01-15T10:30:00Z",
  "cancelledAt": "2024-01-15T10:30:00Z",
  "cancelledBy": "user_id",
  "statusHistory": [
    {
      "status": "cancelled",
      "updatedBy": "user_id",
      "updatedAt": "2024-01-15T10:30:00Z",
      "notes": "Order cancelled by admin/customer"
    }
  ]
}
```

## โ **ุงููููุฒุงุช**

1. **ุฅุฒุงูุฉ ุชููุงุฆูุฉ ูุฑูู ุงูุชุชุจุน**: ุนูุฏ ุงูุฅูุบุงุก ูุชู ุฅุฒุงูุฉ `trackingNumber`
2. **ุณุฌู ูุงูู**: ุฅุถุงูุฉ ุณุฌู ูู `statusHistory`
3. **ุชุชุจุน ูู ูุงู ุจุงูุฅูุบุงุก**: ุญูุธ `cancelledBy`
4. **ุชูููุช ุงูุฅูุบุงุก**: ุญูุธ `cancelledAt`
5. **ูุงุฌูุฉ ูุณุชุฎุฏู ูุงุถุญุฉ**: ุฃุฒุฑุงุฑ ูุงุถุญุฉ ูุน ุชุฃููุฏุงุช

## ๐ **ุงูุงุฎุชุจุงุฑ**

### **ูุงุฎุชุจุงุฑ ุงูููุฒุฉ:**
1. ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ
2. ุงูุชุฃูุฏ ูู ูุฌูุฏ ุฑูู ุชุชุจุน
3. ุฅูุบุงุก ุงูุทูุจ ูู Dashboard ุฃู Fruit App
4. ุงูุชุฃูุฏ ูู ุฅุฒุงูุฉ ุฑูู ุงูุชุชุจุน
5. ุงูุชุญูู ูู ุชุญุฏูุซ ุงูุญุงูุฉ ุฅูู `cancelled`

### **ุงูุฃูุงูุฑ:**
```bash
# ูู Dashboard
flutter run

# ูู Fruit App
flutter run
```

## ๐ **ููุงุญุธุงุช ูููุฉ**

1. **ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ**: ุงูุทูุจุงุช ุงูููุบูุฉ ูุณุจูุงู ูู ุชุชุฃุซุฑ
2. **ุงูุชูุงูู**: ุงูููุฒุฉ ูุชูุงููุฉ ูุน ุฌููุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ
3. **ุงูุฃูุงู**: ุชุฃููุฏ ูุฒุฏูุฌ ูุจู ุงูุฅูุบุงุก
4. **ุงูุชุชุจุน**: ุณุฌู ูุงูู ูุฌููุน ุนูููุงุช ุงูุฅูุบุงุก

---

## ๐ฏ **ุงูุฎูุงุตุฉ**

ุชู ุชุทุจูู ููุฒุฉ ุฅูุบุงุก ุงูุทูุจุงุช ุจูุฌุงุญ ูุน:
- ุฅุฒุงูุฉ ุชููุงุฆูุฉ ูุฑูู ุงูุชุชุจุน ุนูุฏ ุงูุฅูุบุงุก
- ูุงุฌูุฉ ูุณุชุฎุฏู ูุงุถุญุฉ ูู ููุง ุงูุชุทุจูููู
- ุณุฌู ูุงูู ูุนูููุงุช ุงูุฅูุบุงุก
- ููุงุนุฏ ูุงุถุญุฉ ููุทูุจุงุช ุงูุชู ูููู ุฅูุบุงุคูุง

ุงูุขู ูููู ููุนููุงุก ูุงูุฅุฏุงุฑููู ุฅูุบุงุก ุงูุทูุจุงุช ุจุณูููุฉ ูุน ุฅุฒุงูุฉ ุฑูู ุงูุชุชุจุน ุชููุงุฆูุงู! ๐ 